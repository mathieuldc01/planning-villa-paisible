<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Planning Villa Paisible</title>
  <link rel="stylesheet" href="style.css" />

</head>


<body>


  <div id="lock-screen">
    <h2>Accès protégé</h2>
    <label for="password-input">Mot de passe :</label>
    <input type="password" id="password-input" />
    <button onclick="checkAccess()">Valider</button>
  </div>


<script>
  const PASSWORD_HASH = "f1c209e951d4bd466f9da8be1779301861ab8ed17c4e0380b5155a6e77440206";

  async function hashPassword(password) {
    const encoder = new TextEncoder();
    const data = encoder.encode(password);
    const hashBuffer = await crypto.subtle.digest("SHA-256", data);
    return Array.from(new Uint8Array(hashBuffer))
      .map(b => b.toString(16).padStart(2, "0"))
      .join("");
  }

  async function checkAccess() {
    const input = document.getElementById("password-input").value;
    const hash = await hashPassword(input);
    if (hash === PASSWORD_HASH) {
      document.getElementById("lock-screen").classList.add("hidden");
      document.getElementById("planning").style.visibility="visible";
      document.getElementById("titre").style.visibility="visible";
      document.getElementById("year-list").style.visibility="visible";

    } else {
      alert("Mauvais mot de passe");
    }
  }

  async function unlock(password) {
    const hash = await hashPassword(password);
    if (hash === PASSWORD_HASH) {
      document.getElementById("lock-screen").classList.add("hidden");
      document.getElementById("planning").style.visibility="visible";
      document.getElementById("titre").style.visibility="visible";
      document.getElementById("year-list").style.visibility="visible";
    }
  }
</script>





  <header> 
    <nav  style="visibility:hidden;">
      <ul id="year-list">       
      </ul>
    </nav>
  </header>

  <h1 id="titre"  style="visibility:hidden;">Planning Interactif</h1>
  <div id="planning" style="visibility:hidden;"></div>

        <form class="task-form hidden" id="task-form">
        <div class="task-form-header">
          <button id="close-task-form-btn" class="close-task-form-btn" type="button" aria-label="close">
            <svg class="close-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48px" height="48px"><path fill="#F44336" d="M21.5 4.5H26.501V43.5H21.5z" transform="rotate(45.001 24 24)" /><path fill="#F44336" d="M21.5 4.5H26.5V43.501H21.5z" transform="rotate(135.008 24 24)" /></svg>
          </button>
        </div>
        <div class="task-form-body">
          <label class="task-form-label" for="title-input">Nom</label>
          <input required type="text" class="form-control" id="title-input" value="" />

          <label class="task-form-label" for="date-input-start">Date d'arrivé</label>
          <input type="date" class="form-control" id="date-input-start" value="" />

          <label class="task-form-label" for="date-input-end">Date de dépard</label>
          <input type="date" class="form-control" id="date-input-end" value="" />

          <label class="task-form-label" for="app-input">Numéro Appartement</label>
          <input required type="number" class="form-control" id="app-input" value="" />

          <label class="task-form-label" for="adult-input">Nombre d'adulte</label>
          <input required type="number" class="form-control" id="adult-input" value="" />

          <label class="task-form-label" for="child-input">Nombre d'enfant</label>
          <input required type="number" class="form-control" id="child-input" value="" />

          <label class="task-form-label" for="loyer-input">Loyer</label>
          <input required type="number" class="form-control" id="loyer-input" value="" />

          <div class="hidden">
          <label for="taxe" class="task-form-label">Taxe de séjour (optionnel) :</label>
          <select id="taxe">
            <option value="option1">Option 1</option>
            <option value="option2">Option 2</option>
            <option value="option3">Option 3</option>
          </select></div>

          <label class="task-form-label">RBNB ? </label>
            <label><input type="radio" name="choix" value="oui" class="form-control" id="oui" required> Oui</label>
            <label><input type="radio" name="choix" value="non" class="form-control" id ="non"> Non</label>

          <label class="task-form-label" for="description-input">Description</label>
          <textarea class="form-control" id="description-input" cols="30" rows="5"></textarea>
        </div>
        <div class="task-form-footer">
          <button id="add-or-update-task-btn" class="btn large-btn" type="submit">
            Valider
          </button>
        </div>
      </form>

  <script src="https://cdn.jsdelivr.net/npm/exceljs/dist/exceljs.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/file-saver/dist/FileSaver.min.js"></script>
  <script type="module" src="script.js"></script>





</body>

</html>








